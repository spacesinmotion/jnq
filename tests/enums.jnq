
cfn strcmp(a *char, b *char) int

use sub.util

type Days enum {
  Mon, Tue, Wed, Thu = 4, Fri, Sat = -4, Sun
}

fn tostring(d Days) *char {
  switch(d) {
    case Days.Mon: return "Mon"
    case Days.Tue: return "Tue"
    case Days.Wed: return "Wed"
    case Days.Thu: return "Thu"
    case Days.Fri: return "Fri"
    case Days.Sat: return "Sat"
    case Days.Sun: return "Sun"
  }
}

fn main() int {
  printf("enums\n")

  e Days = Days.Tue
  f Days = Days.Sun
  ASSERT(e == Days.Tue)
  ASSERT(e != f)
  ASSERT(-3 == f as int)

  n util.Nix = util.Nix.Nicer
  ASSERT(n != util.Nix.Nice)
  ASSERT(n == util.Nix.Nicer)

  ASSERT(strcmp("Tue", e.tostring()) == 0)
  ASSERT(strcmp("Fri", Days.Fri.tostring()) == 0)

  printf(" ..ok\n")
  return 0
}